<html lang="en">
<head>
<title>ax_path_bdb - Autoconf Archive</title>
<meta http-equiv="Content-Type" content="text/html">
<meta name="description" content="Autoconf Archive">
<meta name="generator" content="makeinfo 4.13">
<link title="Top" rel="start" href="index.html#Top">
<link rel="up" href="The-Macros.html#The-Macros" title="The Macros">
<link rel="prev" href="ax_005fpatch_005flibtool_005fchanging_005fcmds_005fifs.html#ax_005fpatch_005flibtool_005fchanging_005fcmds_005fifs" title="ax_patch_libtool_changing_cmds_ifs">
<link rel="next" href="ax_005fpath_005fgeneric.html#ax_005fpath_005fgeneric" title="ax_path_generic">
<link href="http://www.gnu.org/software/texinfo/" rel="generator-home" title="Texinfo Homepage">
<!--
This manual is for GNU Autoconf Archive version 2011.12.21, a collection of
freely re-usable Autoconf macros.

Copyright (C) 2011 Autoconf Archive Maintainers
<autoconf-archive-maintainers@gnu.org>

Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.3 or
any later version published by the Free Software Foundation; with no
Invariant Sections, no Front-Cover Texts, and no Back-Cover Texts.  A
copy of the license is included in the section entitled ``GNU Free
Documentation License''.-->
<meta http-equiv="Content-Style-Type" content="text/css">
<style type="text/css"><!--
  pre.display { font-family:inherit }
  pre.format  { font-family:inherit }
  pre.smalldisplay { font-family:inherit; font-size:smaller }
  pre.smallformat  { font-family:inherit; font-size:smaller }
  pre.smallexample { font-size:smaller }
  pre.smalllisp    { font-size:smaller }
  span.sc    { font-variant:small-caps }
  span.roman { font-family:serif; font-weight:normal; } 
  span.sansserif { font-family:sans-serif; font-weight:normal; } 
--></style>
</head>
<body>
<div class="node">
<a name="ax_path_bdb"></a>
<a name="ax_005fpath_005fbdb"></a>
<p>
Next:&nbsp;<a rel="next" accesskey="n" href="ax_005fpath_005fgeneric.html#ax_005fpath_005fgeneric">ax_path_generic</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="ax_005fpatch_005flibtool_005fchanging_005fcmds_005fifs.html#ax_005fpatch_005flibtool_005fchanging_005fcmds_005fifs">ax_patch_libtool_changing_cmds_ifs</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="The-Macros.html#The-Macros">The Macros</a>
<hr>
</div>

<h3 class="unnumberedsec">ax_path_bdb</h3>

<h2 class="majorheading">Synopsis</h2>

<pre class="smallexample">     AX_PATH_BDB([MINIMUM-VERSION], [ACTION-IF-FOUND], [ACTION-IF-NOT-FOUND])
</pre>
<h2 class="majorheading">Description</h2>

<p>This macro finds the latest version of Berkeley DB on the system, and
ensures that the header file and library versions match. If
MINIMUM-VERSION is specified, it will ensure that the library found is
at least that version.

<p>It determines the name of the library as well as the path to the header
file and library. It will check both the default environment as well as
the default Berkeley DB install location. When found, it sets BDB_LIBS,
BDB_CPPFLAGS, and BDB_LDFLAGS to the necessary values to add to LIBS,
CPPFLAGS, and LDFLAGS, as well as setting BDB_VERSION to the version
found. HAVE_DB_H is defined also.

<p>The option &ndash;with-bdb-dir=DIR can be used to specify a specific Berkeley
DB installation to use.

<p>An example of it's use is:

<pre class="smallexample">       AX_PATH_BDB([3],[
         LIBS="$BDB_LIBS $LIBS"
         LDFLAGS="$BDB_LDFLAGS $LDFLAGS"
         CPPFLAGS="$CPPFLAGS $BDB_CPPFLAGS"
       ])
</pre>
<p>which will locate the latest version of Berkeley DB on the system, and
ensure that it is version 3.0 or higher.

<p>Details: This macro does not use either AC_CHECK_HEADERS or AC_CHECK_LIB
because, first, the functions inside the library are sometimes renamed
to contain a version code that is only available from the db.h on the
system, and second, because it is common to have multiple db.h and libdb
files on a system it is important to make sure the ones being used
correspond to the same version. Additionally, there are many different
possible names for libdb when installed by an OS distribution, and these
need to be checked if db.h does not correspond to libdb.

<p>When cross compiling, only header versions are verified since it would
be difficult to check the library version. Additionally the default
Berkeley DB installation locations /usr/local/BerkeleyDB* are not
searched for higher versions of the library.

<p>The format for the list of library names to search came from the Cyrus
IMAP distribution, although they are generated dynamically here, and
only for the version found in db.h.

<p>The macro AX_COMPARE_VERSION is required to use this macro, and should
be available from the Autoconf Macro Archive.

<p>The author would like to acknowledge the generous and valuable feedback
from Guido Draheim, without which this macro would be far less robust,
and have poor and inconsistent cross compilation support.

<p>Changes:

<pre class="smallexample">      1/5/05 applied patch from Rafal Rzepecki to eliminate compiler
             warning about unused variable, argv
</pre>
<h2 class="majorheading">Source Code</h2>

<p>Download the
<a href="http://git.savannah.gnu.org/gitweb/?p=autoconf-archive.git;a=blob_plain;f=m4/ax_path_bdb.m4">latest version of <samp><span class="file">ax_path_bdb.m4</span></samp></a> or browse
<a href="http://git.savannah.gnu.org/gitweb/?p=autoconf-archive.git;a=history;f=m4/ax_path_bdb.m4">the macro's revision history</a>.

<h2 class="majorheading">License</h2>

<p>Copyright&nbsp;&copy;&nbsp;2008&nbsp;Tim&nbsp;Toolan&nbsp;<a href="mailto:toolan@ele.uri.edu">toolan@ele.uri.edu</a><!-- /@w -->

<p>Copying and distribution of this file, with or without modification, are
permitted in any medium without royalty provided the copyright notice
and this notice are preserved. This file is offered as-is, without any
warranty.

</body></html>

