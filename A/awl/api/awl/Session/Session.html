
Warning: strftime(): It is not safe to rely on the system's timezone settings. You are *required* to use the date.timezone setting or the date_default_timezone_set() function. In case you used any of those methods and you are still getting this warning, you most likely misspelled the timezone identifier. We selected the timezone 'UTC' for now, but please set date.timezone to select your timezone. in /usr/share/php/PhpDocumentor/phpDocumentor/Smarty-2.6.0/libs/Smarty_Compiler.class.php on line 370
<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
  <html xmlns="http://www.w3.org/1999/xhtml">
		<head>
			<!-- template designed by Marco Von Ballmoos  -->
			<title>Docs For Class Session</title>
			<link rel="stylesheet" href="../../media/stylesheet.css" />
						<script src="../../media/lib/classTree.js"></script>
												<script language="javascript" type="text/javascript">
				var imgPlus = new Image();
				var imgMinus = new Image();
				imgPlus.src = "../../media/images/plus.png";
				imgMinus.src = "../../media/images/minus.png";
				
				function showNode(Node){
							switch(navigator.family){
								case 'nn4':
									// Nav 4.x code fork...
							var oTable = document.layers["span" + Node];
							var oImg = document.layers["img" + Node];
									break;
								case 'ie4':
									// IE 4/5 code fork...
							var oTable = document.all["span" + Node];
							var oImg = document.all["img" + Node];
									break;
								case 'gecko':
									// Standards Compliant code fork...
							var oTable = document.getElementById("span" + Node);
							var oImg = document.getElementById("img" + Node);
									break;
							}
					oImg.src = imgMinus.src;
					oTable.style.display = "block";
				}
				
				function hideNode(Node){
							switch(navigator.family){
								case 'nn4':
									// Nav 4.x code fork...
							var oTable = document.layers["span" + Node];
							var oImg = document.layers["img" + Node];
									break;
								case 'ie4':
									// IE 4/5 code fork...
							var oTable = document.all["span" + Node];
							var oImg = document.all["img" + Node];
									break;
								case 'gecko':
									// Standards Compliant code fork...
							var oTable = document.getElementById("span" + Node);
							var oImg = document.getElementById("img" + Node);
									break;
							}
					oImg.src = imgPlus.src;
					oTable.style.display = "none";
				}
				
				function nodeIsVisible(Node){
							switch(navigator.family){
								case 'nn4':
									// Nav 4.x code fork...
							var oTable = document.layers["span" + Node];
									break;
								case 'ie4':
									// IE 4/5 code fork...
							var oTable = document.all["span" + Node];
									break;
								case 'gecko':
									// Standards Compliant code fork...
							var oTable = document.getElementById("span" + Node);
									break;
							}
					return (oTable && oTable.style.display == "block");
				}
				
				function toggleNodeVisibility(Node){
					if (nodeIsVisible(Node)){
						hideNode(Node);
					}else{
						showNode(Node);
					}
				}
			</script>
					</head>
		<body>
			<div class="page-body">			
<h2 class="class-name"><img src="../../media/images/Class_logo.png"
														alt=" Class"
														title=" Class"
														style="vertical-align: middle"> Session</h2>

<a name="sec-description"></a>
<div class="info-box">
	<div class="info-box-title">Description</div>
	<div class="nav-bar">
					<span class="disabled">Description</span> |
													<a href="#sec-var-summary">Vars</a> (<a href="#sec-vars">details</a>)
						|											<a href="#sec-method-summary">Methods</a> (<a href="#sec-methods">details</a>)
						
					</div>
	<div class="info-box-body">
        		
Warning: strftime(): It is not safe to rely on the system's timezone settings. You are *required* to use the date.timezone setting or the date_default_timezone_set() function. In case you used any of those methods and you are still getting this warning, you most likely misspelled the timezone identifier. We selected the timezone 'UTC' for now, but please set date.timezone to select your timezone. in /usr/share/php/PhpDocumentor/phpDocumentor/Smarty-2.6.0/libs/Smarty_Compiler.class.php on line 370
<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">A class for creating and holding session information.</p>
		<p class="notes">
			Located in <a class="field" href="_Session.php.html">/Session.php</a> (line <span class="field">58</span>)
		</p>
		
				
		<pre></pre>
	
			</div>
</div>



	<a name="sec-var-summary"></a>
	<div class="info-box">
		<div class="info-box-title">Variable Summary</span></div>
		<div class="nav-bar">
			<a href="#sec-description">Description</a> |
						<span class="disabled">Vars</span> (<a href="#sec-vars">details</a>)
							| 
									<a href="#sec-method-summary">Methods</a> (<a href="#sec-methods">details</a>)
							
								</div>
		<div class="info-box-body">
			<div class="var-summary">
																																																																																								<div class="var-title">
					<img src="../../media/images/Variable.png" alt=" " />
					<span class="var-type">int</span>
					<a href="#$email" title="details" class="var-name">$email</a>
				</div>
																<div class="var-title">
					<img src="../../media/images/Variable.png" alt=" " />
					<span class="var-type">int</span>
					<a href="#$fullname" title="details" class="var-name">$fullname</a>
				</div>
																<div class="var-title">
					<img src="../../media/images/Variable.png" alt=" " />
					<span class="var-type">boolean</span>
					<a href="#$just_logged_in" title="details" class="var-name">$just_logged_in</a>
				</div>
																<div class="var-title">
					<img src="../../media/images/Variable.png" alt=" " />
					<span class="var-type">string</span>
					<a href="#$last_session_end" title="details" class="var-name">$last_session_end</a>
				</div>
																<div class="var-title">
					<img src="../../media/images/Variable.png" alt=" " />
					<span class="var-type">string</span>
					<a href="#$last_session_start" title="details" class="var-name">$last_session_start</a>
				</div>
																<div class="var-title">
					<img src="../../media/images/Variable.png" alt=" " />
					<span class="var-type">int</span>
					<a href="#$logged_in" title="details" class="var-name">$logged_in</a>
				</div>
																<div class="var-title">
					<img src="../../media/images/Variable.png" alt=" " />
					<span class="var-type">int</span>
					<a href="#$session_id" title="details" class="var-name">$session_id</a>
				</div>
																<div class="var-title">
					<img src="../../media/images/Variable.png" alt=" " />
					<span class="var-type">int</span>
					<a href="#$username" title="details" class="var-name">$username</a>
				</div>
																<div class="var-title">
					<img src="../../media/images/Variable.png" alt=" " />
					<span class="var-type">int</span>
					<a href="#$user_no" title="details" class="var-name">$user_no</a>
				</div>
											</div>
		</div>
	</div>

	<a name="sec-method-summary"></a>
	<div class="info-box">
		<div class="info-box-title">Method Summary</span></div>
		<div class="nav-bar">
			<a href="#sec-description">Description</a> |
																		<a href="#sec-var-summary">Vars</a> (<a href="#sec-vars">details</a>)
				 
				|
						<span class="disabled">Methods</span> (<a href="#sec-methods">details</a>)
		</div>
		<div class="info-box-body">			
			<div class="method-summary">
																																																																																																																																											
				<div class="method-definition">
					<img src="../../media/images/StaticMethod.png" alt=" "/>
					static 						<span class="method-result">void</span>
										<a href="#_CheckLogout" title="details" class="method-name">_CheckLogout</a>
										()
									</div>
																			
				<div class="method-definition">
					<img src="../../media/images/Constructor.png" alt=" "/>
											<span class="method-result">Session</span>
										<a href="#Session" title="details" class="method-name">Session</a>
											([<span class="var-type">string</span>&nbsp;<span class="var-name">$sid</span> = <span class="var-default">&quot;&quot;</span>])
									</div>
															
				<div class="method-definition">
					<img src="../../media/images/Method.png" alt=" "/>
											<span class="method-result">boolean</span>
										<a href="#AllowedTo" title="details" class="method-name">AllowedTo</a>
											(<span class="var-type">string</span>&nbsp;<span class="var-name">$whatever</span>)
									</div>
															
				<div class="method-definition">
					<img src="../../media/images/Method.png" alt=" "/>
											<span class="method-result">void</span>
										<a href="#AssignSessionDetails" title="details" class="method-name">AssignSessionDetails</a>
											(<span class="var-type">object</span>&nbsp;<span class="var-name">$u</span>)
									</div>
															
				<div class="method-definition">
					<img src="../../media/images/Method.png" alt=" "/>
											<span class="method-result">string</span>
										<a href="#BuildConfirmationHash" title="details" class="method-name">BuildConfirmationHash</a>
											(<span class="var-type">string</span>&nbsp;<span class="var-name">$method</span>, <span class="var-type">string</span>&nbsp;<span class="var-name">$varname</span>)
									</div>
															
				<div class="method-definition">
					<img src="../../media/images/Method.png" alt=" "/>
											<span class="method-result">string</span>
										<a href="#CheckConfirmationHash" title="details" class="method-name">CheckConfirmationHash</a>
											(<span class="var-type">string</span>&nbsp;<span class="var-name">$method</span>, <span class="var-type">string</span>&nbsp;<span class="var-name">$varname</span>)
									</div>
															
				<div class="method-definition">
					<img src="../../media/images/Method.png" alt=" "/>
											<span class="method-result">void</span>
										<a href="#Dbg" title="details" class="method-name">Dbg</a>
											(<span class="var-type">string</span>&nbsp;<span class="var-name">$whatever</span>, <span class="var-type">string</span>&nbsp;<span class="var-name">$group</span>, <span class="var-type">mixed</span>&nbsp;<span class="var-name">$whatever...</span>)
									</div>
															
				<div class="method-definition">
					<img src="../../media/images/Method.png" alt=" "/>
											<span class="method-result">void</span>
										<a href="#EmailTemporaryPassword" title="details" class="method-name">EmailTemporaryPassword</a>
											(<span class="var-type"></span>&nbsp;<span class="var-name">$username</span>, <span class="var-type"></span>&nbsp;<span class="var-name">$email_address</span>, [<span class="var-type"></span>&nbsp;<span class="var-name">$body_template</span> = <span class="var-default">&quot;&quot;</span>])
									</div>
															
				<div class="method-definition">
					<img src="../../media/images/Method.png" alt=" "/>
											<span class="method-result">string</span>
										<a href="#FormattedDate" title="details" class="method-name">FormattedDate</a>
											(<span class="var-type">string</span>&nbsp;<span class="var-name">$indate</span>, [<span class="var-type">string</span>&nbsp;<span class="var-name">$type</span> = <span class="var-default">'date'</span>])
									</div>
															
				<div class="method-definition">
					<img src="../../media/images/Method.png" alt=" "/>
											<span class="method-result">void</span>
										<a href="#GetRoles" title="details" class="method-name">GetRoles</a>
										()
									</div>
															
				<div class="method-definition">
					<img src="../../media/images/Method.png" alt=" "/>
											<span class="method-result">void</span>
										<a href="#Log" title="details" class="method-name">Log</a>
											(<span class="var-type">string</span>&nbsp;<span class="var-name">$whatever</span>, <span class="var-type">mixed</span>&nbsp;<span class="var-name">$whatever...</span>)
									</div>
															
				<div class="method-definition">
					<img src="../../media/images/Method.png" alt=" "/>
											<span class="method-result">boolean</span>
										<a href="#Login" title="details" class="method-name">Login</a>
											(<span class="var-type">string</span>&nbsp;<span class="var-name">$username</span>, <span class="var-type">string</span>&nbsp;<span class="var-name">$password</span>, [<span class="var-type">string</span>&nbsp;<span class="var-name">$authenticated</span> = <span class="var-default">false</span>])
									</div>
															
				<div class="method-definition">
					<img src="../../media/images/Method.png" alt=" "/>
											<span class="method-result">boolean</span>
										<a href="#LoginRequired" title="details" class="method-name">LoginRequired</a>
											([<span class="var-type">string</span>&nbsp;<span class="var-name">$groups</span> = <span class="var-default">&quot;&quot;</span>])
									</div>
															
				<div class="method-definition">
					<img src="../../media/images/Method.png" alt=" "/>
											<span class="method-result">boolean</span>
										<a href="#LSIDLogin" title="details" class="method-name">LSIDLogin</a>
											(<span class="var-type">string</span>&nbsp;<span class="var-name">$lsid</span>)
									</div>
															
				<div class="method-definition">
					<img src="../../media/images/Method.png" alt=" "/>
											<span class="method-result">string</span>
										<a href="#RenderLoginPanel" title="details" class="method-name">RenderLoginPanel</a>
										()
									</div>
															
				<div class="method-definition">
					<img src="../../media/images/Method.png" alt=" "/>
											<span class="method-result">void</span>
										<a href="#SendTemporaryPassword" title="details" class="method-name">SendTemporaryPassword</a>
										()
									</div>
															
				<div class="method-definition">
					<img src="../../media/images/Method.png" alt=" "/>
											<span class="method-result">void</span>
										<a href="#_CheckLogin" title="details" class="method-name">_CheckLogin</a>
										()
									</div>
																			</div>
		</div>
	</div>		

	<a name="sec-vars"></a>
	<div class="info-box">
		<div class="info-box-title">Variables</div>
		<div class="nav-bar">
			<a href="#sec-description">Description</a> |
										<a href="#sec-var-summary">Vars</a> (<span class="disabled">details</span>)
						
			
										| 
									<a href="#sec-method-summary">Methods</a> (<a href="#sec-methods">details</a>)
							
					</div>
		<div class="info-box-body">
			
Strict Standards: Only variables should be passed by reference in /usr/share/php/PhpDocumentor/phpDocumentor/Smarty-2.6.0/libs/Smarty_Compiler.class.php on line 712

Warning: strftime(): It is not safe to rely on the system's timezone settings. You are *required* to use the date.timezone setting or the date_default_timezone_set() function. In case you used any of those methods and you are still getting this warning, you most likely misspelled the timezone identifier. We selected the timezone 'UTC' for now, but please set date.timezone to select your timezone. in /usr/share/php/PhpDocumentor/phpDocumentor/Smarty-2.6.0/libs/Smarty_Compiler.class.php on line 370

<a name="var$email" id="$email"><!-- --></A>
<div class="oddrow">

	<div class="var-header">
		<img src="../../media/images/Variable.png" />
		<span class="var-title">
			<span class="var-type">int</span>
			<span class="var-name">$email</span>
			 = <span class="var-default"> ''</span>			(line <span class="line-number">99</span>)
		</span>
	</div>

	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">The user's email address from their usr record.</p>
	<ul class="tags">
				<li><span class="field">access:</span> public</li>
			</ul>
	
	
		
		

</div>
<a name="var$fullname" id="$fullname"><!-- --></A>
<div class="evenrow">

	<div class="var-header">
		<img src="../../media/images/Variable.png" />
		<span class="var-title">
			<span class="var-type">int</span>
			<span class="var-name">$fullname</span>
			 = <span class="var-default"> 'Guest'</span>			(line <span class="line-number">93</span>)
		</span>
	</div>

	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">The user's full name from their usr record.</p>
	<ul class="tags">
				<li><span class="field">access:</span> public</li>
			</ul>
	
	
		
		

</div>
<a name="var$just_logged_in" id="$just_logged_in"><!-- --></A>
<div class="oddrow">

	<div class="var-header">
		<img src="../../media/images/Variable.png" />
		<span class="var-title">
			<span class="var-type">boolean</span>
			<span class="var-name">$just_logged_in</span>
			 = <span class="var-default"> false</span>			(line <span class="line-number">113</span>)
		</span>
	</div>

	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Whether the user logged in to view the current page.  Perhaps some details on the  login form might pollute an editable form and result in an unplanned submit.  This  can be used to program around such a problem.</p>
	<ul class="tags">
				<li><span class="field">access:</span> public</li>
			</ul>
	
	
		
		

</div>
<a name="var$last_session_end" id="$last_session_end"><!-- --></A>
<div class="evenrow">

	<div class="var-header">
		<img src="../../media/images/Variable.png" />
		<span class="var-title">
			<span class="var-type">string</span>
			<span class="var-name">$last_session_end</span>
						(line <span class="line-number">126</span>)
		</span>
	</div>

	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">The date and time that the user requested their last page during their last  session.</p>
	<ul class="tags">
				<li><span class="field">access:</span> public</li>
			</ul>
	
	
		
		

</div>
<a name="var$last_session_start" id="$last_session_start"><!-- --></A>
<div class="oddrow">

	<div class="var-header">
		<img src="../../media/images/Variable.png" />
		<span class="var-title">
			<span class="var-type">string</span>
			<span class="var-name">$last_session_start</span>
						(line <span class="line-number">119</span>)
		</span>
	</div>

	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">The date and time that the user logged on during their last session.</p>
	<ul class="tags">
				<li><span class="field">access:</span> public</li>
			</ul>
	
	
		
		

</div>
<a name="var$logged_in" id="$logged_in"><!-- --></A>
<div class="evenrow">

	<div class="var-header">
		<img src="../../media/images/Variable.png" />
		<span class="var-title">
			<span class="var-type">int</span>
			<span class="var-name">$logged_in</span>
			 = <span class="var-default"> false</span>			(line <span class="line-number">105</span>)
		</span>
	</div>

	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Whether this user has actually logged in.</p>
	<ul class="tags">
				<li><span class="field">access:</span> public</li>
			</ul>
	
	
		
		

</div>
<a name="var$session_id" id="$session_id"><!-- --></A>
<div class="oddrow">

	<div class="var-header">
		<img src="../../media/images/Variable.png" />
		<span class="var-title">
			<span class="var-type">int</span>
			<span class="var-name">$session_id</span>
			 = <span class="var-default"> 0</span>			(line <span class="line-number">81</span>)
		</span>
	</div>

	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">A unique id for this user's logged-in session.</p>
	<ul class="tags">
				<li><span class="field">access:</span> public</li>
			</ul>
	
	
		
		

</div>
<a name="var$username" id="$username"><!-- --></A>
<div class="evenrow">

	<div class="var-header">
		<img src="../../media/images/Variable.png" />
		<span class="var-title">
			<span class="var-type">int</span>
			<span class="var-name">$username</span>
			 = <span class="var-default"> 'guest'</span>			(line <span class="line-number">87</span>)
		</span>
	</div>

	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">The user's username used to log in.</p>
	<ul class="tags">
				<li><span class="field">access:</span> public</li>
			</ul>
	
	
		
		

</div>
<a name="var$user_no" id="$user_no"><!-- --></A>
<div class="oddrow">

	<div class="var-header">
		<img src="../../media/images/Variable.png" />
		<span class="var-title">
			<span class="var-type">int</span>
			<span class="var-name">$user_no</span>
						(line <span class="line-number">75</span>)
		</span>
	</div>

	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">The user_no of the logged in user.</p>
	<ul class="tags">
				<li><span class="field">access:</span> public</li>
			</ul>
	
	
		
		

</div>
						
		</div>
	</div>
	
	<a name="sec-methods"></a>
	<div class="info-box">
		<div class="info-box-title">Methods</div>
		<div class="nav-bar">
			<a href="#sec-description">Description</a> |
															<a href="#sec-var-summary">Vars</a> (<a href="#sec-vars">details</a>)
																	<a href="#sec-method-summary">Methods</a> (<span class="disabled">details</span>)
						
		</div>
		<div class="info-box-body">
			
Strict Standards: Only variables should be passed by reference in /usr/share/php/PhpDocumentor/phpDocumentor/Smarty-2.6.0/libs/Smarty_Compiler.class.php on line 712

Warning: strftime(): It is not safe to rely on the system's timezone settings. You are *required* to use the date.timezone setting or the date_default_timezone_set() function. In case you used any of those methods and you are still getting this warning, you most likely misspelled the timezone identifier. We selected the timezone 'UTC' for now, but please set date.timezone to select your timezone. in /usr/share/php/PhpDocumentor/phpDocumentor/Smarty-2.6.0/libs/Smarty_Compiler.class.php on line 370
<A NAME='method_detail'></A>
<a name="method_CheckLogout" id="_CheckLogout"><!-- --></a>
<div class="evenrow">
	
	<div class="method-header">
		<img src="../../media/images/StaticMethod.png" />
		<span class="method-title">static _CheckLogout</span> (line <span class="line-number">796</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
	
	<div class="method-signature">
		static <span class="method-result">void</span>
		<span class="method-name">
			_CheckLogout
		</span>
				()
			</div>
	
		
			
	</div>
<a name="methodSession" id="Session"><!-- --></a>
<div class="oddrow">
	
	<div class="method-header">
		<img src="../../media/images/Constructor.png" />
		<span class="method-title">Constructor Session</span> (line <span class="line-number">145</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Create a new Session object.</p>
<p class="description"><p>If a session identifier is supplied, or we can find one in a cookie, we validate it  and consider the person logged in.  We read some useful session and user data in  passing as we do this.</p><p>The session identifier contains a random value, hashed, to provide validation. This  could be hijacked if the traffic was sniffable so sites who are paranoid about security  should only do this across SSL.</p><p>A worthwhile enhancement would be to add some degree of external configurability to  that read.</p></p>
	
	<div class="method-signature">
		<span class="method-result">Session</span>
		<span class="method-name">
			Session
		</span>
					([<span class="var-type">string</span>&nbsp;<span class="var-name">$sid</span> = <span class="var-default">&quot;&quot;</span>])
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type">string</span>
				<span class="var-name">$sid</span><span class="var-description">: A session identifier.</span>			</li>
				</ul>
		
			
	</div>
<a name="methodAllowedTo" id="AllowedTo"><!-- --></a>
<div class="evenrow">
	
	<div class="method-header">
		<img src="../../media/images/Method.png" />
		<span class="method-title">AllowedTo</span> (line <span class="line-number">260</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Checks whether a user is allowed to do something.</p>
<p class="description"><p>The check is performed to see if the user has that role.</p></p>
	<ul class="tags">
				<li><span class="field">return:</span> Whether or not the user has the specified role.</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">boolean</span>
		<span class="method-name">
			AllowedTo
		</span>
					(<span class="var-type">string</span>&nbsp;<span class="var-name">$whatever</span>)
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type">string</span>
				<span class="var-name">$whatever</span><span class="var-description">: The role we want to know if the user has.</span>			</li>
				</ul>
		
			
	</div>
<a name="methodAssignSessionDetails" id="AssignSessionDetails"><!-- --></a>
<div class="oddrow">
	
	<div class="method-header">
		<img src="../../media/images/Method.png" />
		<span class="method-title">AssignSessionDetails</span> (line <span class="line-number">283</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Internal function used to assign the session details to a user's new session.</p>
	
	<div class="method-signature">
		<span class="method-result">void</span>
		<span class="method-name">
			AssignSessionDetails
		</span>
					(<span class="var-type">object</span>&nbsp;<span class="var-name">$u</span>)
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type">object</span>
				<span class="var-name">$u</span><span class="var-description">: The user+session object we (probably) read from the database.</span>			</li>
				</ul>
		
			
	</div>
<a name="methodBuildConfirmationHash" id="BuildConfirmationHash"><!-- --></a>
<div class="evenrow">
	
	<div class="method-header">
		<img src="../../media/images/Method.png" />
		<span class="method-title">BuildConfirmationHash</span> (line <span class="line-number">892</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Build a hash which we can use for confirmation that we didn't get e-mailed  a bogus link by someone, and that we actually got here by traversing the  website.</p>
	<ul class="tags">
				<li><span class="field">return:</span> A string we can use as either a GET or POST value (i.e. a hidden field, or a varname=hash pair.</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">string</span>
		<span class="method-name">
			BuildConfirmationHash
		</span>
					(<span class="var-type">string</span>&nbsp;<span class="var-name">$method</span>, <span class="var-type">string</span>&nbsp;<span class="var-name">$varname</span>)
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type">string</span>
				<span class="var-name">$method</span><span class="var-description">: Either 'GET' or 'POST' depending on the way we will use this.</span>			</li>
					<li>
				<span class="var-type">string</span>
				<span class="var-name">$varname</span><span class="var-description">: The name of the variable which we will confirm</span>			</li>
				</ul>
		
			
	</div>
<a name="methodCheckConfirmationHash" id="CheckConfirmationHash"><!-- --></a>
<div class="oddrow">
	
	<div class="method-header">
		<img src="../../media/images/Method.png" />
		<span class="method-title">CheckConfirmationHash</span> (line <span class="line-number">915</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Check a hash which we created through BuildConfirmationHash</p>
	<ul class="tags">
				<li><span class="field">return:</span> A string we can use as either a GET or POST value (i.e. a hidden field, or a varname=hash pair.</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">string</span>
		<span class="method-name">
			CheckConfirmationHash
		</span>
					(<span class="var-type">string</span>&nbsp;<span class="var-name">$method</span>, <span class="var-type">string</span>&nbsp;<span class="var-name">$varname</span>)
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type">string</span>
				<span class="var-name">$method</span><span class="var-description">: Either 'GET' or 'POST' depending on the way we will use this.</span>			</li>
					<li>
				<span class="var-type">string</span>
				<span class="var-name">$varname</span><span class="var-description">: The name of the variable which we will confirm</span>			</li>
				</ul>
		
			
	</div>
<a name="methodDbg" id="Dbg"><!-- --></a>
<div class="evenrow">
	
	<div class="method-header">
		<img src="../../media/images/Method.png" />
		<span class="method-title">Dbg</span> (line <span class="line-number">230</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">DEPRECATED Utility function to log debug stuff with printf expansion, and the ability to  enable it selectively.</p>
<p class="description"><p>The enabling is done by setting a variable &quot;$debuggroups[$group] = 1&quot;</p></p>
	
	<div class="method-signature">
		<span class="method-result">void</span>
		<span class="method-name">
			Dbg
		</span>
					(<span class="var-type">string</span>&nbsp;<span class="var-name">$whatever</span>, <span class="var-type">string</span>&nbsp;<span class="var-name">$group</span>, <span class="var-type">mixed</span>&nbsp;<span class="var-name">$whatever...</span>)
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type">string</span>
				<span class="var-name">$group</span><span class="var-description">: The name of an arbitrary debug group.</span>			</li>
					<li>
				<span class="var-type">string</span>
				<span class="var-name">$whatever</span><span class="var-description">: A log string</span>			</li>
					<li>
				<span class="var-type">mixed</span>
				<span class="var-name">$whatever...</span><span class="var-description">: Further parameters to be replaced into the log string a la printf</span>			</li>
				</ul>
		
			
	</div>
<a name="methodEmailTemporaryPassword" id="EmailTemporaryPassword"><!-- --></a>
<div class="oddrow">
	
	<div class="method-header">
		<img src="../../media/images/Method.png" />
		<span class="method-title">EmailTemporaryPassword</span> (line <span class="line-number">632</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">E-mails a temporary password in response to a request from a user.</p>
<p class="description"><p>This could be called from somewhere within the application that allows  someone to set up a user and invite them.</p><p>This function includes EMail.php to actually send the password.</p></p>
	
	<div class="method-signature">
		<span class="method-result">void</span>
		<span class="method-name">
			EmailTemporaryPassword
		</span>
					(<span class="var-type"></span>&nbsp;<span class="var-name">$username</span>, <span class="var-type"></span>&nbsp;<span class="var-name">$email_address</span>, [<span class="var-type"></span>&nbsp;<span class="var-name">$body_template</span> = <span class="var-default">&quot;&quot;</span>])
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type"></span>
				<span class="var-name">$username</span>			</li>
					<li>
				<span class="var-type"></span>
				<span class="var-name">$email_address</span>			</li>
					<li>
				<span class="var-type"></span>
				<span class="var-name">$body_template</span>			</li>
				</ul>
		
			
	</div>
<a name="methodFormattedDate" id="FormattedDate"><!-- --></a>
<div class="evenrow">
	
	<div class="method-header">
		<img src="../../media/images/Method.png" />
		<span class="method-title">FormattedDate</span> (line <span class="line-number">852</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Function to reformat an ISO date to something nicer and possibly more localised</p>
	<ul class="tags">
				<li><span class="field">return:</span> The nicely formatted date.</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">string</span>
		<span class="method-name">
			FormattedDate
		</span>
					(<span class="var-type">string</span>&nbsp;<span class="var-name">$indate</span>, [<span class="var-type">string</span>&nbsp;<span class="var-name">$type</span> = <span class="var-default">'date'</span>])
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type">string</span>
				<span class="var-name">$indate</span><span class="var-description">: The ISO date to be formatted.</span>			</li>
					<li>
				<span class="var-type">string</span>
				<span class="var-name">$type</span><span class="var-description">: If 'timestamp' then the time will also be shown.</span>			</li>
				</ul>
		
			
	</div>
<a name="methodGetRoles" id="GetRoles"><!-- --></a>
<div class="oddrow">
	
	<div class="method-header">
		<img src="../../media/images/Method.png" />
		<span class="method-title">GetRoles</span> (line <span class="line-number">268</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Internal function used to get the user's roles from the database.</p>
	
	<div class="method-signature">
		<span class="method-result">void</span>
		<span class="method-name">
			GetRoles
		</span>
				()
			</div>
	
		
			
	</div>
<a name="methodLog" id="Log"><!-- --></a>
<div class="evenrow">
	
	<div class="method-header">
		<img src="../../media/images/Method.png" />
		<span class="method-title">Log</span> (line <span class="line-number">202</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">DEPRECATED Utility function to log stuff with printf expansion.</p>
<p class="description"><p>This function could be expanded to log something identifying the session, but  somewhat strangely this has not yet been done.</p></p>
	
	<div class="method-signature">
		<span class="method-result">void</span>
		<span class="method-name">
			Log
		</span>
					(<span class="var-type">string</span>&nbsp;<span class="var-name">$whatever</span>, <span class="var-type">mixed</span>&nbsp;<span class="var-name">$whatever...</span>)
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type">string</span>
				<span class="var-name">$whatever</span><span class="var-description">: A log string</span>			</li>
					<li>
				<span class="var-type">mixed</span>
				<span class="var-name">$whatever...</span><span class="var-description">: Further parameters to be replaced into the log string a la printf</span>			</li>
				</ul>
		
			
	</div>
<a name="methodLogin" id="Login"><!-- --></a>
<div class="oddrow">
	
	<div class="method-header">
		<img src="../../media/images/Method.png" />
		<span class="method-title">Login</span> (line <span class="line-number">311</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Attempt to perform a login action.</p>
<p class="description"><p>This will validate the user's username and password.  If they are OK then a new  session id will be created and the user will be cookied with it for subsequent  pages.  A logged in session will be created, and the $_POST array will be cleared  of the username, password and submit values.  submit will also be cleared from  $_GET and $GLOBALS, just in case.</p></p>
	<ul class="tags">
				<li><span class="field">return:</span> Whether or not the user correctly guessed a temporary password within the necessary window of opportunity.</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">boolean</span>
		<span class="method-name">
			Login
		</span>
					(<span class="var-type">string</span>&nbsp;<span class="var-name">$username</span>, <span class="var-type">string</span>&nbsp;<span class="var-name">$password</span>, [<span class="var-type">string</span>&nbsp;<span class="var-name">$authenticated</span> = <span class="var-default">false</span>])
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type">string</span>
				<span class="var-name">$username</span><span class="var-description">: The user's login name, or at least what they entered it as.</span>			</li>
					<li>
				<span class="var-type">string</span>
				<span class="var-name">$password</span><span class="var-description">: The user's password, or at least what they entered it as.</span>			</li>
					<li>
				<span class="var-type">string</span>
				<span class="var-name">$authenticated</span><span class="var-description">: If true, then authentication has already happened and the password is not checked, though the user must still exist.</span>			</li>
				</ul>
		
			
	</div>
<a name="methodLoginRequired" id="LoginRequired"><!-- --></a>
<div class="evenrow">
	
	<div class="method-header">
		<img src="../../media/images/Method.png" />
		<span class="method-title">LoginRequired</span> (line <span class="line-number">582</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Checks that this user is logged in, and presents a login screen if they aren't.</p>
<p class="description"><p>The function can optionally confirm whether they are a member of one of a list  of groups, and deny access if they are not a member of any of them.</p></p>
	<ul class="tags">
				<li><span class="field">return:</span> Whether or not the user is logged in and is a member of one of the required groups.</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">boolean</span>
		<span class="method-name">
			LoginRequired
		</span>
					([<span class="var-type">string</span>&nbsp;<span class="var-name">$groups</span> = <span class="var-default">&quot;&quot;</span>])
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type">string</span>
				<span class="var-name">$groups</span><span class="var-description">: The list of groups that the user must be a member of one of to be allowed to proceed.</span>			</li>
				</ul>
		
			
	</div>
<a name="methodLSIDLogin" id="LSIDLogin"><!-- --></a>
<div class="oddrow">
	
	<div class="method-header">
		<img src="../../media/images/Method.png" />
		<span class="method-title">LSIDLogin</span> (line <span class="line-number">437</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Attempts to logs in using a long-term session ID</p>
<p class="description"><p>This is all horribly insecure, but its hard not to be.</p></p>
	<ul class="tags">
				<li><span class="field">return:</span> Whether or not the user's lsid cookie got them in the door.</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">boolean</span>
		<span class="method-name">
			LSIDLogin
		</span>
					(<span class="var-type">string</span>&nbsp;<span class="var-name">$lsid</span>)
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type">string</span>
				<span class="var-name">$lsid</span><span class="var-description">: The user's value of the lsid cookie.</span>			</li>
				</ul>
		
			
	</div>
<a name="methodRenderLoginPanel" id="RenderLoginPanel"><!-- --></a>
<div class="evenrow">
	
	<div class="method-header">
		<img src="../../media/images/Method.png" />
		<span class="method-title">RenderLoginPanel</span> (line <span class="line-number">528</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Renders some HTML for a basic login panel</p>
	<ul class="tags">
				<li><span class="field">return:</span> The HTML to display a login panel.</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">string</span>
		<span class="method-name">
			RenderLoginPanel
		</span>
				()
			</div>
	
		
			
	</div>
<a name="methodSendTemporaryPassword" id="SendTemporaryPassword"><!-- --></a>
<div class="oddrow">
	
	<div class="method-header">
		<img src="../../media/images/Method.png" />
		<span class="method-title">SendTemporaryPassword</span> (line <span class="line-number">724</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Sends a temporary password in response to a request from a user.</p>
<p class="description"><p>This is probably only going to be called from somewhere internal.  An external  caller will probably just want the e-mail, without the HTML that this displays.</p></p>
	
	<div class="method-signature">
		<span class="method-result">void</span>
		<span class="method-name">
			SendTemporaryPassword
		</span>
				()
			</div>
	
		
			
	</div>
<a name="method_CheckLogin" id="_CheckLogin"><!-- --></a>
<div class="evenrow">
	
	<div class="method-header">
		<img src="../../media/images/Method.png" />
		<span class="method-title">_CheckLogin</span> (line <span class="line-number">809</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
	
	<div class="method-signature">
		<span class="method-result">void</span>
		<span class="method-name">
			_CheckLogin
		</span>
				()
			</div>
	
		
			
	</div>
						
		</div>
	</div>

	

Warning: strftime(): It is not safe to rely on the system's timezone settings. You are *required* to use the date.timezone setting or the date_default_timezone_set() function. In case you used any of those methods and you are still getting this warning, you most likely misspelled the timezone identifier. We selected the timezone 'UTC' for now, but please set date.timezone to select your timezone. in /usr/share/php/PhpDocumentor/phpDocumentor/Smarty-2.6.0/libs/Smarty_Compiler.class.php on line 370
	<p class="notes" id="credit">
		Documentation generated on Wed, 04 Jul 2012 07:06:30 +0000 by <a href="http://www.phpdoc.org" target="_blank">phpDocumentor 1.4.3</a>
	</p>
	</div></body>
</html>