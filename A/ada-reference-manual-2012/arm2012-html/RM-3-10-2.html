<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<HTML>
<HEAD>
    <TITLE>Operations of Access Types</TITLE>
    <META http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
    <META NAME="Author" CONTENT="JTC1/SC22/WG9/ARG, by Randall Brukardt, ARG Editor">
    <META NAME="GENERATOR" CONTENT="Arm_Form.Exe, Ada Reference Manual generator">
    <STYLE type="text/css">
    H4.centered {text-align: center}
    SPAN.swiss {font-family: Arial, Helvetica, sans-serif; font-size: 92%}
    SPAN.roman {font-family: "Times New Roman", Times, serif}
    DIV.paranum {float: left; font-family: Arial, Helvetica, sans-serif; font-size: 64%; width: 2.8em; margin-left: -0.4em; margin-right: -3.0em; margin-top: 0.2em}
    TT {font-family: "Courier New", monospace}
    DT {display: compact}
    DIV.Normal {font-family: "Times New Roman", Times, serif; line-height: 122%; margin-left: 1.2em; margin-bottom: 0.6em}
    DIV.WideAbove {font-family: "Times New Roman", Times, serif; line-height: 122%; margin-left: 1.2em; margin-top: 0.6em; margin-bottom: 0.6em}
    DIV.Notes {font-family: "Times New Roman", Times, serif; font-size: 80%; line-height: 122%; margin-left: 3.7em; margin-bottom: 0.6em}
    DIV.NotesHeader {font-family: "Times New Roman", Times, serif; font-size: 80%; line-height: 122%; margin-left: 3.7em}
    DIV.Examples {font-family: "Courier New", monospace; font-size: 90%; line-height: 122%; margin-left: 3.4em; margin-bottom: 0.6em}
    DIV.Bulleted-NoPrefix {font-family: "Times New Roman", Times, serif; line-height: 122%; margin-left: 3.2em; margin-right: 2.0em; margin-top: 0em; margin-bottom: 0.5em}
    DIV.Bulleted {font-family: "Times New Roman", Times, serif; line-height: 122%; margin-left: 3.2em; margin-right: 2.0em; margin-top: 0em; margin-bottom: 0.5em; display: list-item; list-style-type: disc}
    DIV.Indented4Bulleted-NoPrefix {font-family: "Times New Roman", Times, serif; line-height: 122%; margin-left: 9.2em; margin-right: 2.0em; margin-top: 0em; margin-bottom: 0.5em}
    DIV.Indented4Bulleted {font-family: "Times New Roman", Times, serif; line-height: 122%; margin-left: 9.2em; margin-right: 2.0em; margin-top: 0em; margin-bottom: 0.5em; display: list-item; list-style-type: disc}
    DIV.Indented2NestedBulleted-NoPrefix {font-family: "Times New Roman", Times, serif; line-height: 122%; margin-left: 5.2em; margin-right: 2.0em; margin-top: 0em; margin-bottom: 0.5em}
    DIV.Indented2NestedBulleted {font-family: "Times New Roman", Times, serif; line-height: 122%; margin-left: 5.2em; margin-right: 2.0em; margin-top: 0em; margin-bottom: 0.5em; display: list-item; list-style-type: disc}
    DIV.Indented5NestedBulleted-NoPrefix {font-family: "Times New Roman", Times, serif; line-height: 122%; margin-left:  11.2em; margin-right: 2.0em; margin-top: 0em; margin-bottom: 0.5em}
    DIV.Indented5NestedBulleted {font-family: "Times New Roman", Times, serif; line-height: 122%; margin-left:  11.2em; margin-right: 2.0em; margin-top: 0em; margin-bottom: 0.5em; display: list-item; list-style-type: disc}
    DIV.WideHanging-Body {font-family: "Times New Roman", Times, serif; line-height: 122%; margin-left: 7.2em; margin-top: 0em; margin-bottom: 0.6em}
    DIV.WideHanging-Term {float: left; font-family: "Times New Roman", Times, serif; line-height: 122%; margin-left: 1.2em; margin-top: 0em; margin-bottom: 0em}
    </STYLE>
</HEAD>
<BODY TEXT="#000000" BGCOLOR="#FFFFF0" LINK="#000080" VLINK="#330033" ALINK="#0000FF">
<DIV><SPAN Style="font-size:200%; color: rgb(0,0,153)"><B>Ada Reference Manual</B></SPAN> &mdash; <A HREF="RM-TTL.html"><B>Legal Information</B></A></DIV>
<div style="margin-top: 0.6em; margin-bottom: 0.0em"><A HREF="RM-TOC.html"><IMG SRC="cont.gif" ALT="Contents" BORDER=0></A>&nbsp;
&nbsp;<A HREF="RM-0-4.html"><IMG SRC="index.gif" ALT="Index" BORDER=0></A>&nbsp;
&nbsp;<A HREF="RM-STDS.html"><IMG SRC="lib.gif" ALT="References" BORDER=0></A>&nbsp;
&nbsp;<A HREF="RM-SRCH.html"><IMG SRC="find.gif" ALT="Search" BORDER=0></A>&nbsp;
&nbsp;<A HREF="RM-3-10-1.html"><IMG SRC="prev.gif" ALT="Previous" BORDER=0></A>&nbsp;
&nbsp;<A HREF="RM-3-11.html"><IMG SRC="next.gif" ALT="Next" BORDER=0></A>&nbsp;
</div>
<HR>
<H1>3.10.2 Operations of Access Types</H1>
<div class="paranum">1</div>
<div class="Normal">The attribute Access is used to create access values 
designating aliased objects and nonintrinsic subprograms. The &ldquo;accessibility&rdquo; 
rules prevent dangling references (in the absence of uses of certain 
unchecked features &mdash; see Section 13).&nbsp;</div>

<H4 Class="centered">Name Resolution Rules</H4>
<div class="paranum">2/2</div>
<div class="Normal"><A NAME="I2277"></A>For an <SPAN Class="swiss"><A HREF="RM-4-1-4.html#S0100">attribute_reference</A></SPAN> 
with <SPAN Class="swiss"><A HREF="RM-4-1-4.html#S0101">attribute_designator</A></SPAN> 
Access (or Unchecked_Access &mdash; see <A HREF="RM-13-10.html">13.10</A>), 
the expected type shall be a single access type <I>A</I> such that:&nbsp;</div>
<div class="paranum">2.1/2</div>
<div class="Bulleted"><I>A</I> is an access-to-object type with designated 
type <I>D</I> and the type of the <SPAN Class="swiss"><A HREF="RM-4-1.html#S0093">prefix</A></SPAN> 
is <I>D</I>'Class or is covered by <I>D</I>, or</div>
<div class="paranum">2.2/2</div>
<div class="Bulleted"><I>A</I> is an access-to-subprogram type whose 
designated profile is type conformant with that of the prefix.&nbsp;</div>
<div class="paranum">2.3/2</div>
<div class="Normal">&nbsp;&nbsp;The <SPAN Class="swiss"><A HREF="RM-4-1.html#S0093">prefix</A></SPAN> 
of such an <SPAN Class="swiss"><A HREF="RM-4-1-4.html#S0100">attribute_reference</A></SPAN> 
is never interpreted as an <SPAN Class="swiss"><A HREF="RM-4-1.html#S0095">implicit_dereference</A></SPAN> 
or a parameterless <SPAN Class="swiss"><A HREF="RM-6-4.html#S0179">function_call</A></SPAN> 
(see <A HREF="RM-4-1-4.html">4.1.4</A>). <A NAME="I2278"></A><A NAME="I2279"></A>The 
designated type or profile of the expected type of the <SPAN Class="swiss"><A HREF="RM-4-1-4.html#S0100">attribute_reference</A></SPAN> 
is the expected type or profile for the <SPAN Class="swiss"><A HREF="RM-4-1.html#S0093">prefix</A></SPAN>. 
</div>

<H4 Class="centered">Static Semantics</H4>
<div class="paranum">3/2</div>
<div class="Normal"><A NAME="I2280"></A><A NAME="I2281"></A><A NAME="I2282"></A><A NAME="I2283"></A><A NAME="I2284"></A><A NAME="I2285"></A>The 
accessibility rules, which prevent dangling references, are written in 
terms of <I>accessibility levels</I>, which reflect the run-time nesting 
of <I>masters</I>. As explained in <A HREF="RM-7-6-1.html">7.6.1</A>, 
a master is the execution of a certain construct, such as a <SPAN Class="swiss"><A HREF="RM-6-3.html#S0177">subprogram_body</A></SPAN>. 
An accessibility level is <I>deeper than</I> another if it is more deeply 
nested at run time. For example, an object declared local to a called 
subprogram has a deeper accessibility level than an object declared local 
to the calling subprogram. The accessibility rules for access types require 
that the accessibility level of an object designated by an access value 
be no deeper than that of the access type. This ensures that the object 
will live at least as long as the access type, which in turn ensures 
that the access value cannot later designate an object that no longer 
exists. The Unchecked_Access attribute may be used to circumvent the 
accessibility rules.</div>
<div class="paranum">4</div>
<div class="Normal"><A NAME="I2286"></A><A NAME="I2287"></A>A given accessibility 
level is said to be <I>statically deeper</I> than another if the given 
level is known at compile time (as defined below) to be deeper than the 
other for all possible executions. In most cases, accessibility is enforced 
at compile time by Legality Rules. Run-time accessibility checks are 
also used, since the Legality Rules do not cover certain cases involving 
access parameters and generic packages.</div>
<div class="paranum">5</div>
<div class="Normal" style="margin-bottom: 0.4em">Each master, and each 
entity and view created by it, has an accessibility level:&nbsp;</div>
<div class="paranum">6</div>
<div class="Bulleted">The accessibility level of a given master is deeper 
than that of each dynamically enclosing master, and deeper than that 
of each master upon which the task executing the given master directly 
depends (see <A HREF="RM-9-3.html">9.3</A>).</div>
<div class="paranum">7/3</div>
<div class="Bulleted">An entity or view defined by a declaration and 
created as part of its elaboration has the same accessibility level as 
the innermost master of the declaration except in the cases of renaming 
and derived access types described below. Other than for an explicitly 
aliased parameter, a formal parameter of a callable entity has the same 
accessibility level as the master representing the invocation of the 
entity.&nbsp;</div>
<div class="paranum">8</div>
<div class="Bulleted">The accessibility level of a view of an object 
or subprogram defined by a <SPAN Class="swiss"><A HREF="RM-8-5.html#S0199">renaming_declaration</A></SPAN> 
is the same as that of the renamed view.</div>
<div class="paranum">9/2</div>
<div class="Bulleted">The accessibility level of a view conversion, <SPAN Class="swiss"><A HREF="RM-4-7.html#S0142">qualified_expression</A></SPAN>, 
or parenthesized expression, is the same as that of the operand.</div>
<div class="paranum">9.1/3</div>
<div class="Bulleted">The accessibility level of a <SPAN Class="swiss"><A HREF="RM-4-5-7.html#S0133">conditional_expression</A></SPAN> 
is the accessibility level of the evaluated <I>dependent_</I><SPAN Class="swiss"><A HREF="RM-4-4.html#S0117">expression</A></SPAN>.</div>
<div class="paranum">10/3</div>
<div class="Bulleted">The accessibility level of an <SPAN Class="swiss"><A HREF="RM-4-3.html#S0106">aggregate</A></SPAN> 
that is used (in its entirety) to directly initialize part of an object 
is that of the object being initialized. In other contexts, the accessibility 
level of an <SPAN Class="swiss"><A HREF="RM-4-3.html#S0106">aggregate</A></SPAN> 
is that of the innermost master that evaluates the <SPAN Class="swiss"><A HREF="RM-4-3.html#S0106">aggregate</A></SPAN>.</div>
<div class="paranum">10.1/3</div>
<div class="Bulleted" style="margin-bottom: 0.3em">The accessibility 
level of the result of a function call is that of the <I>master of the 
function call</I>, which is determined by the point of call as follows:<A NAME="I2288"></A><A NAME="I2289"></A><A NAME="I2290"></A></div>
<div class="paranum">10.2/3</div>
<div class="Indented2NestedBulleted">If the result is used (in its entirety) 
to directly initialize part of an object, the master is that of the object 
being initialized. In the case where the initialized object is a coextension 
(see below) that becomes a coextension of another object, the master 
is that of the eventual object to which the coextension will be transferred.</div>
<div class="paranum">10.3/3</div>
<div class="Indented2NestedBulleted">If the result is of an anonymous 
access type and is the operand of an explicit conversion, the master 
is that of the target type of the conversion;</div>
<div class="paranum">10.4/3</div>
<div class="Indented2NestedBulleted">If the result is of an anonymous 
access type and defines an access discriminant, the master is the same 
as that for an object created by an anonymous <SPAN Class="swiss"><A HREF="RM-4-8.html#S0143">allocator</A></SPAN> 
that defines an access discriminant (even if the access result is of 
an access-to-subprogram type).</div>
<div class="paranum">10.5/3</div>
<div class="Indented2NestedBulleted">If the call itself defines the result 
of a function to which one of the above rules applies, these rules are 
applied recursively;</div>
<div class="paranum">10.6/3</div>
<div class="Indented2NestedBulleted">In other cases, the master of the 
call is that of the innermost master that evaluates the function call.</div>
<div class="paranum">10.7/3</div>
<div class="Bulleted-NoPrefix">In the case of a call to a function whose 
result type is an anonymous access type, the accessibility level of the 
type of the result of the function call is also determined by the point 
of call as described above.</div>
<div class="paranum">10.8/3</div>
<div class="Bulleted">Within a return statement, the accessibility level 
of the return object is that of the execution of the return statement. 
If the return statement completes normally by returning from the function, 
then prior to leaving the function, the accessibility level of the return 
object changes to be a level determined by the point of call, as does 
the level of any coextensions (see below) of the return object.</div>
<div class="paranum">11</div>
<div class="Bulleted">The accessibility level of a derived access type 
is the same as that of its ultimate ancestor.</div>
<div class="paranum">11.1/2</div>
<div class="Bulleted">The accessibility level of the anonymous access 
type defined by an <SPAN Class="swiss"><A HREF="RM-3-10.html#S0084">access_definition</A></SPAN> 
of an <SPAN Class="swiss"><A HREF="RM-8-5-1.html#S0200">object_renaming_declaration</A></SPAN> 
is the same as that of the renamed view.</div>
<div class="paranum">12/2</div>
<div class="Bulleted" style="margin-bottom: 0.3em">The accessibility 
level of the anonymous access type of an access discriminant in the <SPAN Class="swiss"><A HREF="RM-3-2-2.html#S0027">subtype_indication</A></SPAN> 
or <SPAN Class="swiss"><A HREF="RM-4-7.html#S0142">qualified_expression</A></SPAN> 
of an <SPAN Class="swiss"><A HREF="RM-4-8.html#S0143">allocator</A></SPAN>, 
or in the <SPAN Class="swiss"><A HREF="RM-4-4.html#S0117">expression</A></SPAN> 
or <SPAN Class="swiss"><A HREF="RM-6-5.html#S0187">return_subtype_indication</A></SPAN> 
of a return statement is determined as follows:</div>
<div class="paranum">12.1/2</div>
<div class="Indented2NestedBulleted">If the value of the access discriminant 
is determined by a <SPAN Class="swiss"><A HREF="RM-3-7-1.html#S0065">discriminant_association</A></SPAN> 
in a <SPAN Class="swiss"><A HREF="RM-3-2-2.html#S0027">subtype_indication</A></SPAN>, 
the accessibility level of the object or subprogram designated by the 
associated value (or library level if the value is null);&nbsp;</div>
<div class="paranum">12.2/3</div>
<div class="Indented2NestedBulleted">If the value of the access discriminant 
is determined by a <SPAN Class="swiss"><A HREF="RM-3-7.html#S0063">default_expression</A></SPAN> 
in the declaration of the discriminant, the level of the object or subprogram 
designated by the associated value (or library level if null);&nbsp;</div>
<div class="paranum">12.3/3</div>
<div class="Indented2NestedBulleted">If the value of the access discriminant 
is determined by a <SPAN Class="swiss"><A HREF="RM-4-3-1.html#S0109">record_component_association</A></SPAN> 
in an <SPAN Class="swiss"><A HREF="RM-4-3.html#S0106">aggregate</A></SPAN>, 
the accessibility level of the object or subprogram designated by the 
associated value (or library level if the value is null);</div>
<div class="paranum">12.4/3</div>
<div class="Indented2NestedBulleted">In other cases, where the value 
of the access discriminant is determined by an object with an unconstrained 
nominal subtype, the accessibility level of the object.</div>
<div class="paranum">12.5/3</div>
<div class="Bulleted">The accessibility level of the anonymous access 
type of an access discriminant in any other context is that of the enclosing 
object.</div>
<div class="paranum">13/3</div>
<div class="Bulleted">The accessibility level of the anonymous access 
type of an access parameter specifying an access-to-object type is the 
same as that of the view designated by the actual (or library-level if 
the actual is null).&nbsp;</div>
<div class="paranum">13.1/2</div>
<div class="Bulleted">The accessibility level of the anonymous access 
type of an access parameter specifying an access-to-subprogram type is 
deeper than that of any master; all such anonymous access types have 
this same level.&nbsp;</div>
<div class="paranum">13.2/3</div>
<div class="Bulleted">The accessibility level of the type of a stand-alone 
object of an anonymous access-to-object type is the same as the accessibility 
level of the type of the access value most recently assigned to the object; 
accessibility checks ensure that this is never deeper than that of the 
declaration of the stand-alone object.</div>
<div class="paranum">13.3/3</div>
<div class="Bulleted">The accessibility level of an explicitly aliased 
(see <A HREF="RM-6-1.html">6.1</A>) formal parameter in a function body 
is determined by the point of call; it is the same level that the return 
object ultimately will have.</div>
<div class="paranum">14/3</div>
<div class="Bulleted" style="margin-bottom: 0.3em">The accessibility 
level of an object created by an <SPAN Class="swiss"><A HREF="RM-4-8.html#S0143">allocator</A></SPAN> 
is the same as that of the access type, except for an <SPAN Class="swiss"><A HREF="RM-4-8.html#S0143">allocator</A></SPAN> 
of an anonymous access type (an <I>anonymous allocator</I>) in <A NAME="I2291"></A>certain 
contexts, as follows: For an anonymous allocator that defines the result 
of a function with an access result, the accessibility level is determined 
as though the <SPAN Class="swiss"><A HREF="RM-4-8.html#S0143">allocator</A></SPAN> 
were in place of the call of the function; in the special case of a call 
that is the operand of a type conversion, the level is that of the target 
access type of the conversion. For an anonymous allocator defining the 
value of an access parameter, the accessibility level is that of the 
innermost master of the call. For an anonymous allocator whose type is 
that of a stand-alone object of an anonymous access-to-object type, the 
accessibility level is that of the declaration of the stand-alone object. 
For one defining an access discriminant, the accessibility level is determined 
as follows:</div>
<div class="paranum">14.1/3</div>
<div class="Indented2NestedBulleted">for an <SPAN Class="swiss"><A HREF="RM-4-8.html#S0143">allocator</A></SPAN> 
used to define the discriminant of an object, the level of the object;</div>
<div class="paranum">14.2/3</div>
<div class="Indented2NestedBulleted">for an <SPAN Class="swiss"><A HREF="RM-4-8.html#S0143">allocator</A></SPAN> 
used to define the constraint in a <SPAN Class="swiss"><A HREF="RM-3-2-2.html#S0027">subtype_indication</A></SPAN> 
in any other context, the level of the master that elaborates the <SPAN Class="swiss"><A HREF="RM-3-2-2.html#S0027">subtype_indication</A></SPAN>.</div>
<div class="paranum">14.3/3</div>
<div class="Indented2NestedBulleted"><SPAN STYLE="font-size: 80%"><I>This 
paragraph was deleted.</I></SPAN></div>
<div class="paranum">14.4/3</div>
<div class="Bulleted-NoPrefix"><A NAME="I2292"></A>In the first case, 
the allocated object is said to be a <I>coextension</I> of the object 
whose discriminant designates it, as well as of any object of which the 
discriminated object is itself a coextension or subcomponent. If the 
allocated object is a coextension of an anonymous object representing 
the result of an aggregate or function call that is used (in its entirety) 
to directly initialize a part of an object, after the result is assigned, 
the coextension becomes a coextension of the object being initialized 
and is no longer considered a coextension of the anonymous object. All 
coextensions of an object (which have not thus been transfered by such 
an initialization) are finalized when the object is finalized (see <A HREF="RM-7-6-1.html">7.6.1</A>). 
</div>
<div class="paranum">14.5/3</div>
<div class="Bulleted">Within a return statement, the accessibility level 
of the anonymous access type of an access result is that of the master 
of the call.</div>
<div class="paranum">15/3</div>
<div class="Bulleted">The accessibility level of a view of an object 
or subprogram designated by an access value is the same as that of the 
access type.&nbsp;</div>
<div class="paranum">16</div>
<div class="Bulleted">The accessibility level of a component, protected 
subprogram, or entry of (a view of) a composite object is the same as 
that of (the view of) the composite object.&nbsp;</div>
<div class="paranum">16.1/3</div>
<div class="Normal">&nbsp;&nbsp;&nbsp;In the above rules, the operand of a view conversion, 
parenthesized expression or <SPAN Class="swiss"><A HREF="RM-4-7.html#S0142">qualified_expression</A></SPAN> 
is considered to be used in a context if the view conversion, parenthesized 
expression or <SPAN Class="swiss"><A HREF="RM-4-7.html#S0142">qualified_expression</A></SPAN> 
itself is used in that context. Similarly, a <I>dependent_</I><SPAN Class="swiss"><A HREF="RM-4-4.html#S0117">expression</A></SPAN> 
of a <SPAN Class="swiss"><A HREF="RM-4-5-7.html#S0133">conditional_expression</A></SPAN> 
is considered to be used in a context if the <SPAN Class="swiss"><A HREF="RM-4-5-7.html#S0133">conditional_expression</A></SPAN> 
itself is used in that context.</div>
<div class="paranum">17</div>
<div class="WideAbove" style="margin-bottom: 0.4em"><A NAME="I2293"></A><A NAME="I2294"></A>One 
accessibility level is defined to be <I>statically deeper</I> than another 
in the following cases:&nbsp;</div>
<div class="paranum">18</div>
<div class="Bulleted">For a master that is statically nested within another 
master, the accessibility level of the inner master is statically deeper 
than that of the outer master.&nbsp;</div>
<div class="paranum">18.1/2</div>
<div class="Bulleted">The accessibility level of the anonymous access 
type of an access parameter specifying an access-to-subprogram type is 
statically deeper than that of any master; all such anonymous access 
types have this same level.&nbsp;</div>
<div class="paranum">19/3</div>
<div class="Bulleted">The statically deeper relationship does not apply 
to the accessibility level of the anonymous type of an access parameter 
specifying an access-to-object type nor does it apply to a descendant 
of a generic formal type; that is, such an accessibility level is not 
considered to be statically deeper, nor statically shallower, than any 
other.</div>
<div class="paranum">19.1/3</div>
<div class="Bulleted">The statically deeper relationship does not apply 
to the accessibility level of the type of a stand-alone object of an 
anonymous access-to-object type; that is, such an accessibility level 
is not considered to be statically deeper, nor statically shallower, 
than any other.</div>
<div class="paranum">19.2/3</div>
<div class="Bulleted">Inside a return statement that applies to a function 
<I>F</I>, when determining whether the accessibility level of an explicitly 
aliased parameter of <I>F</I> is statically deeper than the level of 
the return object of <I>F</I>, the level of the return object is considered 
to be the same as that of the level of the explicitly aliased parameter; 
for statically comparing with the level of other entities, an explicitly 
aliased parameter of <I>F</I> is considered to have the accessibility 
level of the body of <I>F</I>.</div>
<div class="paranum">19.3/3</div>
<div class="Bulleted">For determining whether a level is statically deeper 
than the level of the anonymous access type of an access result of a 
function, when within a return statement that applies to the function, 
the level of the master of the call is presumed to be the same as that 
of the level of the master that elaborated the function body.</div>
<div class="paranum">20</div>
<div class="Bulleted">For determining whether one level is statically 
deeper than another when within a generic package body, the generic package 
is presumed to be instantiated at the same level as where it was declared; 
run-time checks are needed in the case of more deeply nested instantiations. 
</div>
<div class="paranum">21</div>
<div class="Bulleted">For determining whether one level is statically 
deeper than another when within the declarative region of a <SPAN Class="swiss"><A HREF="RM-3-2-1.html#S0023">type_declaration</A></SPAN>, 
the current instance of the type is presumed to be an object created 
at a deeper level than that of the type.&nbsp;</div>
<div class="paranum">22</div>
<div class="Normal"><A NAME="I2295"></A><A NAME="I2296"></A>The accessibility 
level of all library units is called the <I>library level</I>; a library-level 
declaration or entity is one whose accessibility level is the library 
level.&nbsp;</div>
<div class="paranum">23</div>
<div class="WideAbove" style="margin-bottom: 0.4em">The following attribute 
is defined for a <SPAN Class="swiss"><A HREF="RM-4-1.html#S0093">prefix</A></SPAN> 
X that denotes an aliased view of an object:&nbsp;</div>
<div class="paranum">24/1</div>
<div class="WideHanging-Term">&nbsp;X'Access</div><div class="WideHanging-Body">
<A NAME="I2297"></A><A NAME="I2298"></A>X'Access yields an access value 
that designates the object denoted by X. The type of X'Access is an access-to-object 
type, as determined by the expected type. The expected type shall be 
a general access type. <A NAME="I2299"></A>X shall denote an aliased 
view of an object, including possibly the current instance (see <A HREF="RM-8-6.html">8.6</A>) 
of a limited type within its definition, or a formal parameter or generic 
formal object of a tagged type. The view denoted by the <SPAN Class="swiss"><A HREF="RM-4-1.html#S0093">prefix</A></SPAN> 
X shall satisfy the following additional requirements, presuming the 
expected type for X'Access is the general access type <I>A</I> with designated 
type <I>D</I>:&nbsp;</div>
<div class="paranum">25</div>
<div class="Indented4Bulleted">If <I>A</I> is an access-to-variable type, 
then the view shall be a variable; on the other hand, if <I>A</I> is 
an access-to-constant type, the view may be either a constant or a variable. 
</div>
<div class="paranum">26/3</div>
<div class="Indented4Bulleted">The view shall not be a subcomponent that 
depends on discriminants of an object unless the object is known to be 
constrained.</div>
<div class="paranum">27/2</div>
<div class="Indented4Bulleted">If <I>A</I> is a named access type and 
<I>D</I> is a tagged type, then the type of the view shall be covered 
by <I>D</I>; if <I>A</I> is anonymous and <I>D</I> is tagged, then the 
type of the view shall be either <I>D</I>'Class or a type covered by 
<I>D</I>; if <I>D</I> is untagged, then the type of the view shall be 
<I>D</I>, and either:&nbsp;</div>
<div class="paranum">27.1/2</div>
<div class="Indented5NestedBulleted">the designated subtype of <I>A</I> 
shall statically match the nominal subtype of the view; or<A NAME="I2300"></A></div>
<div class="paranum">27.2/3</div>
<div class="Indented5NestedBulleted"><I>D</I> shall be discriminated 
in its full view and unconstrained in any partial view, and the designated 
subtype of <I>A</I> shall be unconstrained. For the purposes of determining 
within a generic body whether <I>D</I> is unconstrained in any partial 
view, a discriminated subtype is considered to have a constrained partial 
view if it is a descendant of an untagged generic formal private or derived 
type.&nbsp;</div>
<div class="paranum">28/3</div>
<div class="Indented4Bulleted">The accessibility level of the view shall 
not be statically deeper than that of the access type <I>A</I>. <A NAME="I2301"></A></div>
<div class="paranum">28.1/3</div>
<div class="WideHanging-Body">In addition to the places where Legality 
Rules normally apply (see <A HREF="RM-12-3.html">12.3</A>), these requirements 
apply also in the private part of an instance of a generic unit.<A NAME="I2302"></A></div>
<div class="paranum">29</div>
<div class="WideHanging-Body"><A NAME="I2303"></A><A NAME="I2304"></A><A NAME="I2305"></A>A 
check is made that the accessibility level of X is not deeper than that 
of the access type <I>A</I>. If this check fails, Program_Error is raised. 
</div>
<div class="paranum">30</div>
<div class="WideHanging-Body"><A NAME="I2306"></A>If the nominal subtype 
of X does not statically match the designated subtype of <I>A</I>, a 
view conversion of X to the designated subtype is evaluated (which might 
raise Constraint_Error &mdash; see <A HREF="RM-4-6.html">4.6</A>) and 
the value of X'Access designates that view.&nbsp;</div>
<div class="paranum">31</div>
<div class="Normal">The following attribute is defined for a <SPAN Class="swiss"><A HREF="RM-4-1.html#S0093">prefix</A></SPAN> 
P that denotes a subprogram:&nbsp;</div>
<div class="paranum">32/3</div>
<div class="WideHanging-Term">&nbsp;P'Access</div><div class="WideHanging-Body">
<A NAME="I2307"></A><A NAME="I2308"></A>P'Access yields an access value 
that designates the subprogram denoted by P. The type of P'Access is 
an access-to-subprogram type (<I>S</I>), as determined by the expected 
type. <A NAME="I2309"></A>The accessibility level of P shall not be statically 
deeper than that of <I>S</I>. <A NAME="I2310"></A>In addition to the 
places where Legality Rules normally apply (see <A HREF="RM-12-3.html">12.3</A>), 
this rule applies also in the private part of an instance of a generic 
unit. The profile of P shall be subtype conformant with the designated 
profile of <I>S</I>, and shall not be Intrinsic. <A NAME="I2311"></A>If 
the subprogram denoted by P is declared within a generic unit, and the 
expression P'Access occurs within the body of that generic unit or within 
the body of a generic unit declared within the declarative region of 
the generic unit, then the ultimate ancestor of <I>S</I> shall be either 
a nonformal type declared within the generic unit or an anonymous access 
type of an access parameter.</div>

<H4 Class="centered">Legality Rules</H4>
<div class="paranum">32.1/3</div>
<div class="Normal" style="margin-bottom: 0.4em">&nbsp;&nbsp;&nbsp;An <SPAN Class="swiss"><A HREF="RM-4-4.html#S0117">expression</A></SPAN> 
is said to have <I>distributed accessibility</I> if it is<A NAME="I2312"></A><A NAME="I2313"></A></div>
<div class="paranum">32.2/3</div>
<div class="Bulleted">a <SPAN Class="swiss"><A HREF="RM-4-5-7.html#S0133">conditional_expression</A></SPAN> 
(see <A HREF="RM-4-5-7.html">4.5.7</A>); or</div>
<div class="paranum">32.3/3</div>
<div class="Bulleted">a view conversion, <SPAN Class="swiss"><A HREF="RM-4-7.html#S0142">qualified_expression</A></SPAN>, 
or parenthesized expression whose operand has distributed accessibility. 
</div>
<div class="paranum">32.4/3</div>
<div class="Normal">&nbsp;&nbsp;&nbsp;The statically deeper relationship does not apply 
to the accessibility level of an <SPAN Class="swiss"><A HREF="RM-4-4.html#S0117">expression</A></SPAN> 
having distributed accessibility; that is, such an accessibility level 
is not considered to be statically deeper, nor statically shallower, 
than any other.</div>
<div class="paranum">32.5/3</div>
<div class="Normal">&nbsp;&nbsp;&nbsp;Any static accessibility requirement that is imposed 
on an <SPAN Class="swiss"><A HREF="RM-4-4.html#S0117">expression</A></SPAN> 
that has distributed accessibility (or on its type) is instead imposed 
on the <I>dependent_</I><SPAN Class="swiss"><A HREF="RM-4-4.html#S0117">expression</A></SPAN>s 
of the underlying <SPAN Class="swiss"><A HREF="RM-4-5-7.html#S0133">conditional_expression</A></SPAN>. 
This rule is applied recursively if a <I>dependent_</I><SPAN Class="swiss"><A HREF="RM-4-4.html#S0117">expression</A></SPAN> 
also has distributed accessibility.</div>
<div class="NotesHeader">NOTES</div>
<div class="paranum">33</div>
<div class="Notes">88&nbsp;&nbsp;The Unchecked_Access attribute yields 
the same result as the Access attribute for objects, but has fewer restrictions 
(see <A HREF="RM-13-10.html">13.10</A>). There are other predefined operations 
that yield access values: an <SPAN Class="swiss"><A HREF="RM-4-8.html#S0143">allocator</A></SPAN> 
can be used to create an object, and return an access value that designates 
it (see <A HREF="RM-4-8.html">4.8</A>); evaluating the literal <B>null</B> 
yields a null access value that designates no entity at all (see <A HREF="RM-4-2.html">4.2</A>).</div>
<div class="paranum">34/2</div>
<div class="Notes">89&nbsp;&nbsp;<A NAME="I2314"></A>The predefined operations 
of an access type also include the assignment operation, qualification, 
and membership tests. Explicit conversion is allowed between general 
access types with matching designated subtypes; explicit conversion is 
allowed between access-to-subprogram types with subtype conformant profiles 
(see <A HREF="RM-4-6.html">4.6</A>). <A NAME="I2315"></A>Named access 
types have predefined equality operators; anonymous access types do not, 
but they can use the predefined equality operators for <I>universal_access</I> 
(see <A HREF="RM-4-5-2.html">4.5.2</A>).&nbsp;</div>
<div class="paranum">35</div>
<div class="Notes">90&nbsp;&nbsp;The object or subprogram designated 
by an access value can be named with a dereference, either an <SPAN Class="swiss"><A HREF="RM-4-1.html#S0094">explicit_dereference</A></SPAN> 
or an <SPAN Class="swiss"><A HREF="RM-4-1.html#S0095">implicit_dereference</A></SPAN>. 
See <A HREF="RM-4-1.html">4.1</A>.</div>
<div class="paranum">36</div>
<div class="Notes">91&nbsp;&nbsp;A call through the dereference of an 
access-to-subprogram value is never a dispatching call.&nbsp;</div>
<div class="paranum">37/2</div>
<div class="Notes">92&nbsp;&nbsp;<A NAME="I2316"></A><A NAME="I2317"></A>The 
Access attribute for subprograms and parameters of an anonymous access-to-subprogram 
type may together be used to implement &ldquo;downward closures&rdquo; 
&mdash; that is, to pass a more-nested subprogram as a parameter to a 
less-nested subprogram, as might be appropriate for an iterator abstraction 
or numerical integration. Downward closures can also be implemented using 
generic formal subprograms (see <A HREF="RM-12-6.html">12.6</A>). Note 
that Unchecked_Access is not allowed for subprograms.</div>
<div class="paranum">38</div>
<div class="Notes">93&nbsp;&nbsp;Note that using an access-to-class-wide 
tagged type with a dispatching operation is a potentially more structured 
alternative to using an access-to-subprogram type.</div>
<div class="paranum">39</div>
<div class="Notes">94&nbsp;&nbsp;An implementation may consider two access-to-subprogram 
values to be unequal, even though they designate the same subprogram. 
This might be because one points directly to the subprogram, while the 
other points to a special prologue that performs an Elaboration_Check 
and then jumps to the subprogram. See <A HREF="RM-4-5-2.html">4.5.2</A>. 
</div>

<H4 Class="centered">Examples</H4>
<div class="paranum">40</div>
<div class="Normal" style="margin-bottom: 0.4em"><I>Example of use of 
the Access attribute:</I>&nbsp;</div>
<div class="paranum">41</div>
<div class="Examples">Martha&nbsp;:&nbsp;Person_Name&nbsp;:=&nbsp;<B>new</B>&nbsp;Person(F);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--<SPAN Class="roman"><I>&nbsp;see&nbsp;<A HREF="RM-3-10-1.html">3.10.1</A></I></SPAN><BR>
Cars&nbsp;&nbsp;&nbsp;:&nbsp;<B>array</B>&nbsp;(1..2)&nbsp;<B>of</B>&nbsp;<B>aliased</B>&nbsp;Car;<BR>
&nbsp;&nbsp;&nbsp;...<BR>
Martha.Vehicle&nbsp;:=&nbsp;Cars(1)'Access;<BR>
George.Vehicle&nbsp;:=&nbsp;Cars(2)'Access;</div>

<HR>
<div style="margin-top: 0.0em; margin-bottom: 0.6em"><A HREF="RM-TOC.html"><IMG SRC="cont.gif" ALT="Contents" BORDER=0></A>&nbsp;
&nbsp;<A HREF="RM-0-4.html"><IMG SRC="index.gif" ALT="Index" BORDER=0></A>&nbsp;
&nbsp;<A HREF="RM-STDS.html"><IMG SRC="lib.gif" ALT="References" BORDER=0></A>&nbsp;
&nbsp;<A HREF="RM-SRCH.html"><IMG SRC="find.gif" ALT="Search" BORDER=0></A>&nbsp;
&nbsp;<A HREF="RM-3-10-1.html"><IMG SRC="prev.gif" ALT="Previous" BORDER=0></A>&nbsp;
&nbsp;<A HREF="RM-3-11.html"><IMG SRC="next.gif" ALT="Next" BORDER=0></A>&nbsp;
</div>
<DIV Style="margin-top:0.0em"><IMG SRC="AE_logo.gif" height=100 width=113 align=right ALT="Ada-Europe">
<SPAN Style="vertical-align: middle; font-size:120%">Ada 2005 and 2012 Editions sponsored in part by <SPAN Style="font-size: 125%"><A HREF="http://www.ada-europe.org/"><B>Ada-Europe</B></A></SPAN></SPAN></DIV>
</BODY>
</HTML>
